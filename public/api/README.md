#Установка и настройка приложения

1. Скопировать файлы в директорию веб-сервера
2. Установить директиву веб-сервера root на папку проекта /public (пример конфигурации nginx.conf)
3. Установить расширения php : sudo apt install php-mbstring php-pgsql php-json
4. Указать данные для подключения к серверу Postgres в config.ini

#Проверка работоспособности

- Описание api: http://host.name/api
- Получение списка групп договоров: http://host.name/api/get_groups
- Получение данных: http://host.name/api/get_data

#Промер POST запроса

Получение данных: {"group" : 1, "start_month" : 10, "start_year" : 2019, "interval" : 12, "district" : 27, "type" : 1}

{
  "group": 1, //id группы договоров
  "start_month": 10, //начальный месяц для формирования отчета
  "start_year": 2019, //начальный год для формирования отчета
  "interval": 12, //количество месяцев в отчете
  "district": 27, //район города
  "type": 1 //тип договора
}

#Запуск парсера данных
Чтобы запустить ежедневный сбор данных из базы ОВИРУГ, необходимо добавить в планировщик CRON следующее задание:
@midnight php /var/www/dashboards_api/cron.php

#Запуск парсера данных вручную
cd /var/www/dashboards_api/api/
php parse_all_data.php 12 2019 //сбор данных за указанный месяц (декабрь) и год (2019), на текущий день